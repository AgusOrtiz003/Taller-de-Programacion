programa p3p1
procesos
  proceso juntarPapeles(ES p:numero)
  comenzar
    mientras(HayPapelEnLaEsquina)
      tomarPapel
      p:=p+1
  fin
  proceso juntarFlores(ES f:numero)
  comenzar
    mientras(HayFlorEnLaEsquina)
      tomarFlor
      f:=f+1
  fin
  
  proceso intentoPapelero(ES p:numero;E avI:numero;E caI:numero)
  variables
    av:numero
    ca:numero
  comenzar
    Random(av,6,10)
    Random(ca,1,9)
    BloquearEsquina(av,ca)
    Pos(av,ca)
    juntarPapeles(p)
    Pos(avI,caI)
    LiberarEsquina(av,ca)
  fin
  proceso intentoFlorero(ES f:numero;E avI:numero;E caI:numero)
  variables
    av:numero
    ca:numero
  comenzar
    Random(av,1,5)
    Random(ca,1,10)
    BloquearEsquina(av,ca)
    Pos(av,ca)
    juntarFlores(f)
    Pos(avI,caI)
    LiberarEsquina(av,ca)
  fin
areas
  areaFloreros:AreaPC(1,1,5,10)
  areaPapeleros:AreaPC(6,1,10,9)
  area1:AreaP(6,10,6,10)
  area2:AreaP(7,10,7,10)
  area3:AreaP(8,10,8,10)
  area4:AreaP(9,10,9,10)
robots
  robot Florero
  variables
    f:numero
    avI:numero
    caI:numero
  comenzar
    avI:=PosAv
    caI:=PosCa
    repetir 5
      f:=0
      intentoFlorero(f,avI,caI)
      repetir f
        depositarFlor
  fin
  robot Papelero
  variables
    p:numero
    avI:numero
    caI:numero
  comenzar
    avI:=PosAv
    caI:=PosCa
    repetir 3
      p:=0
      intentoPapelero(p,avI,caI)
      repetir p
        depositarPapel
  fin
variables
  robot1:Florero
  robot2:Florero
  robot3:Papelero
  robot4:Papelero
comenzar
  AsignarArea(robot1,areaFloreros)
  AsignarArea(robot1,area1)
  AsignarArea(robot2,areaFloreros)
  AsignarArea(robot2,area2)
  AsignarArea(robot3,areaPapeleros)
  AsignarArea(robot3,area3)
  AsignarArea(robot4,areaPapeleros)
  AsignarArea(robot4,area4)
  Iniciar(robot1,6,10)
  Iniciar(robot2,7,10)
  Iniciar(robot3,8,10)
  Iniciar(robot4,9,10)
fin
